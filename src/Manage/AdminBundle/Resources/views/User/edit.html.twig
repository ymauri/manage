{% extends 'AdminBundle::frame.html.twig' %}
{% block title %} Edit User {% endblock %}
{% block body %}
<div class="portlet">
    <div class="portlet-title">
        <div class="caption">
            <i class="icon icon-user"></i>Users
        </div>
        <div class="tools">
            {% if app.user.role == 'ROLE_SUPERADMIN' %}
            <a href="{{path('user_new')}}" class=" blue">
                <i class="fa fa-plus"></i> Create new
            </a>
            {% endif %}
            <a href="{{path('user')}}" class=" blue">
                <i class="fa fa-list-alt"></i> List
            </a>
        </div>
    </div>
        <div class="portlet box blue-hoki">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-pencil"></i>Edit
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse">
                    </a>
                </div>
            </div>
            <div class="portlet-body form">
                {% if form_errors(edit_form) %}
                    <div class="alert alert-danger display-hide" style="display: block;">
                        <button class="close" data-close="alert"></button>
                        <span>  {{form_errors(edit_form)}} </span>
                    </div>
                {% endif %}
            <form class="container-fluid form-horizontal" action="{{path('user_update', {'id':entity.id})}}" method="post" {{form_enctype(edit_form)}}>
                <input name="_method" value="PUT" type="hidden">
                <div class="form-body col-md-5">
                <div class="row form-group">
                    {{form_label(edit_form.email,'Email',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.email, {'attr':{                       
                      'class' :' form-control',
                        'readonly':'readonly'
                      }})}} 
                    {{form_errors(edit_form.email)}}  
                </div>
                 <div class="row form-group">
                    {{form_label(edit_form.name,'Name',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.name, {'attr':{                       
                      'class' :' form-control'
                      }})}}  
                    {{form_errors(edit_form.name)}}  
                </div>
                <div class="row form-group ">
                    {{form_label(edit_form.lastname,'Last name',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.lastname, {'attr':{                       
                      'class' :' form-control'
                      }})}}  
                    {{form_errors(edit_form.lastname)}}  
                </div>
                                   

                    <div class="row form-group " {% if app.user.role != 'ROLE_SUPERADMIN' %} hidden="hidden"  {% endif %}>
                    {{form_label(edit_form.role,'Role',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.role, {'attr':{                       
                      'class' :' form-control'
                      }})}}  
                    {{form_errors(edit_form.role)}}  
                </div>
               
                <div class="row form-group ">
                    {{form_label(edit_form.password.first,'Password',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.password.first, {'attr':{                       
                      'class' :' form-control'
                      }})}}
                    {{form_errors(edit_form.password.first)}}  
                </div>
                <div class="row form-group ">
                    {{form_label(edit_form.password.second,'Retype passowrd',{'attr':{                       
                      'class' :' control-label',
                      }})}}
                    {{form_widget(edit_form.password.second, {'attr':{                       
                      'class' :' form-control'
                      }})}} 
                    {{form_errors(edit_form.password.second)}}
                </div>
                <div class="row form-group ">
                {{ form_rest(edit_form) }}
                </div>
                </div>
            </form>
        </div>
        </div>
{% endblock %}
